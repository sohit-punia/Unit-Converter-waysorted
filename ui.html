<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Waysorted â€” Unit Conversion </title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<style>
:root{
  --bg:#181818;
  --panel:#242424;
  --panel-2:#282828;
  --muted:#9ea6ab;
  --muted-2:#7c8387;
  --accent:#2b66ee;
  --white:#ffffff;
  --card-border: rgba(255,255,255,0.04);
  --radius:14px;
  --pad:14px;
  --fs-sm:12px;
  --fs-xs:11px;
  --fc1: #282828;
  --fc2: #2C2C2C;
  --fc3: #383838;
  --fc4: #444444;
  --fc5: #818283;
  --fc6: #C5C5C5;
  --fc7: #FFFFFF;
  --fc8: #265BD1;
}
html,
body {
  margin: 0;
  padding: 0;
  background: transparent;
  font-family: Inter, system-ui, "Segoe UI", Roboto, Arial;
  color: var(--white);
  font-size: var(--fs-sm);
}
.container{
    width: 1033px;
    height: 240px;
    background: linear-gradient(180deg, var(--panel-2), #222);
    /* background: var(--fc2); */
    border: 1px solid var(--card-border);
    padding: var(--pad);
    box-sizing: border-box;
    border-radius: var(--radius);
    display: flex;

}

.left-pannel{
    width:473px;
    align-items: center;
    
}
  /* heading container (use the class you provided) */
  .heading {
    display: flex;
    align-items: center;
    gap: 10px;                /* space between items */
    padding: 4px 0;
    box-sizing: border-box;
    user-select: none;
  }

  /* white square box (16x16) */
  .whitebox {
    width: 16px;
    height: 16px;
    background: #ffffff;
    border-radius: 3px;      /* small rounding to match screenshot */
    flex: 0 0 16px;
    box-sizing: border-box;
    border: 1px solid rgba(0,0,0,0.06);
  }

  /* text: fixed bounding box 87x16 */
  .heading p {
    height: 16px;            
  }
  .heading .info-icon {
    width: 11px;            
    height: 11px;            
    display: inline-block;
    flex: 0 0 11px;
    box-sizing: border-box;
    color: var(--muted);
  }

  /* style the SVG stroke to inherit color */
  .heading .info-icon i {
    width: 11px;
    height: 11px;
    display: block;
    stroke: currentColor;
    fill: none;
    color: white;
  }
.row {
  display: flex;
  gap: 10px;
  align-items: center;
}

label {
  display: flex;
  gap: 8px;
  align-items: center;
  color: var(--muted);
  font-size: var(--fs-xs);
  white-space: nowrap;
}

select,
input[type="number"],
input[type="text"] {
  background: #2b2b2b;
  border: 1px solid rgba(255, 255, 255, 0.03);
  color: var(--white);
  padding: 6px 8px;
  border-radius: 8px;
  font-size: var(--fs-sm);
  outline: none;
}

/* input boxes CSS  */
  .panel {
    width: 473px;
    padding: 18px;
    box-sizing: border-box;
    color: var(--fc7);
    font-family: Inter, system-ui, "Segoe UI", Roboto, Arial;
    font-size: 13px;
    display: flex;
    gap: 18px;                 /* gap between left & right groups */
    align-items: center;  
  }

  /* LEFT column: contains both Length and Width stacked */
  .left-col {
    flex: 0 0 300px;           /* fixed base width for left group */
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .field {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .field-label {
    height: 16px;
    width: 36px;
    color: var(--fc7);
    flex-shrink: 0;
  }

  .size-group {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  /* boxes use fc3 as background as requested */
  .size-input {
    width: 50px;             
    height: 18px;              
    line-height: 18px;
    background: var(--fc4);    
    border-radius: 4px;
    outline: none;
    box-sizing: border-box;
  }

  .size-input:focus {
    box-shadow: 0 0 0 3px rgba(38,91,209,0.06);
    border-color: rgba(38,91,209,0.22);
  }

  .swap-btn {
  width: auto;                 
  height: auto;
  background: none;           
  border: none;                
  padding: 0;                 
  margin: 0;
  color: var(--fc6);
  cursor: pointer;
  user-select: none;
  font-size: 12px;
  line-height: 1;              
  }

  .px-text {
    color: var(--fc5);
    margin-left: 0px;
    min-width: 20px;
    font-size: 10px;
  }

  /* RIGHT column: contains top/bottom/left/right + link icon */
  .right-col {
    flex: 1 1 150px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: 8px;
    position: absolute;
    margin-left: 248px;
    
  }

  .tb-grid {
    display: grid;
    grid-template-columns: auto auto;
    column-gap: 12px;
    row-gap: 8px;
    align-items: center;
    background: transparent;
  }

  .tb-cell {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .tb-label {
    color: var(--fc7);
    font-size: 13px;
    min-width: 36px;
    text-align: left;
  }

  .tb-input {
    width: 41px;            
    height: 18px;             
    padding: 0 6px;
    font-size: 12px;
    line-height: 18px;
    background: var(--fc3);   
    border: 1px solid rgba(255,255,255,0.03);
    color: var(--fc7);
    border-radius: 6px;
    outline: none;
    box-sizing: border-box;
    text-align: center;
  }

  .tb-input:focus {
    box-shadow: 0 0 0 3px rgba(38,91,209,0.05);
    border-color: rgba(38,91,209,0.18);
  }

  /* Link icon wrapper */
  .link-wrap {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;             
  }

  .link-btn {
    width: 19px;          
    height: 19px;            
    border: none;
    background: transparent;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0;
  }

.link-btn img {
  width: 15px;
  height: 15px;
  filter: brightness(0) invert(1); 
  transition: filter 0.2s ease;
}

.link-btn.linked img {
  filter: invert(48%) sepia(86%) saturate(3263%) hue-rotate(210deg) brightness(98%) contrast(97%);
}

  /* subtle labels / muted text like "px" */
  .muted { color: var(--fc5); font-size: 12px; }

  /* small helper text below panel */
  .hint {
    color: var(--fc5);
    font-size: 12px;
    margin-top: 8px;
  }

  /* remove number spinner on webkit */
  input[type=number]::-webkit-inner-spin-button,
  input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }

  /* small responsiveness */
  @media (max-width:520px){
    .panel { width: 100%; flex-direction: column; align-items: stretch; gap: 12px; }
    .right-col { justify-content: flex-start; }
}

/* actions button 3 buttond  */
.actions {
  display: flex;
  gap: 10px;
  margin-top: 18px;
  align-items: center;
}

/* normal buttons */
.btn {
  width: 116px;
  height: 24px;
  background: var(--fc8);
  color: var(--white);
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-size: 12px;
}

.btn.ghost {
  width: 112px;
  height: 24px;
  background: var(--fc1);
  border-radius: 4px;
}

/* orientation group (text + 2 icons) */
.orientation-group {
  display: flex;
  align-items: center;
  gap: 4px;
}

#orientationBtn {
  margin-left: 50px;
  width: auto;
  padding: 0 10px;
  height: 24px;
}

/* icon buttons */
.icon-btn {
  background: transparent;
  border: 1px solid rgba(255, 255, 255, 0.1);
  width: 28px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
}

.icon-btn:hover {
  background: rgba(255, 255, 255, 0.08);
}

.icon-btn[aria-pressed="true"] {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.2);
}

.icon-btn img {
  pointer-events: none;
}


/* right pannel */
  /* Panel wrapper for the right panel area */
  .right-panel {
    width: 473px;                    
    background: transparent;
    color: var(--fc7);
    font-family: Inter, system-ui, "Segoe UI", Roboto, Arial;
    box-sizing: border-box;
    margin-left: 25px;
  }

  /* 1) Top row: tabs + edit icon */
  .top-row {
    display:flex;
    align-items:center;
    gap:10px;
    padding:8px 12px;
  }

  .tabs {
    display:flex;
    gap:8px;
    align-items:center;
  }

  .tab-your {
    width:84px;
    height:26px;
    border-radius:12px;
    background: rgba(255,255,255,0.03);
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:13px;
    color:var(--fc7);
    border:1px solid rgba(255,255,255,0.02);
    cursor:pointer;
    padding:0 8px;
  }

  .tab-all {
    width:84px;
    height:30px;
    border-radius:12px;
    background: transparent;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:13px;
    color:var(--fc5);
    border:1px solid transparent;
    cursor:pointer;
    padding:0 8px;
  }

  .tab-your.active, .tab-all.active {
    background: rgba(255,255,255,0.04);
    color: var(--fc7);
    border-color: rgba(255,255,255,0.04);
  }

  /* small edit icon with marked border */
  .edit-btn {
    margin-left: auto;
    width:34px;
    height:34px;
    border-radius:8px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    border:1px solid rgba(255,255,255,0.04);
    background: rgba(255,255,255,0.02);
    cursor:pointer;
  }

  .edit-btn svg { width:18px; height:18px; stroke:var(--fc6); fill:none; stroke-width:1.25; }

  /* 2) Filter row + presets area */
  .filter-area {
    margin-top:8px;
    padding:12px;
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.02);
    background: rgba(255,255,255,0.01);
    box-sizing:border-box;
  }

  .filters {
    display:flex;
    gap:10px;
    align-items:center;
    margin-bottom:12px;
  }

  /* "ALL" small box: 29 x 22, radius 8, bg --fc8 */
  .filter-all {
    width:29px;
    height:22px;
    border-radius:8px;
    background: var(--fc8);
    color: #fff;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:12px;
    cursor:pointer;
    border: none;
  }

  /* "Favorites" pill: 62 x 22 */
  .filter-fav {
    width:62px;
    height:22px;
    border-radius:12px;
    background: rgba(255,255,255,0.02);
    color: var(--fc7);
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:12px;
    cursor:pointer;
    border: 1px solid rgba(255,255,255,0.02);
    padding:0 8px;
  }

  .filter-fav.active, .filter-all.active {
    box-shadow: 0 0 0 3px rgba(38,91,209,0.06);
    border-color: rgba(38,91,209,0.18);
  }

  /* banner row */
  .banners {
    display:flex;
    gap:14px;
    align-items:center;
    flex-wrap:wrap;
  }

  /* each banner card */
  .banner {
    width:58px;
    height:58px;
    border-radius:8px;
    background: var(--fc3);
    border:1px solid rgba(255,255,255,0.02);
    position:relative;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    box-sizing:border-box;
    transition: box-shadow .12s, transform .08s;
  }

  .banner:hover {
    box-shadow: 0 6px 16px rgba(0,0,0,0.5);
    transform: translateY(-2px);
  }

  /* "like" heart at top-left of banner (small) */
  .banner .heart {
    position:absolute;
    top:6px;
    left:6px;
    width:18px;
    height:18px;
    border-radius:6px;
    background: rgba(255,255,255,0.02);
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    border:1px solid rgba(255,255,255,0.02);
  }

  .banner .heart svg { width:12px; height:12px; stroke:var(--fc6); fill:none; stroke-width:1.2; }

  .banner.liked .heart { background: var(--fc8); border-color: rgba(0,0,0,0.15); }
  .banner.liked .heart svg { stroke: #fff; fill: #fff; }

  /* label under banner */
  .banner-label {
    margin-top:8px;
    font-size:12px;
    color:var(--fc6);
    text-align:center;
  }

  /* containing each banner block (card + label) */
  .banner-block {
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:6px;
    width:72px;  /* enough space for label */
  }

  /* marked border link: a small chain icon with border (to the right inside filter-area) */
  .chain-mark {
    margin-left:auto;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width:28px;
    height:28px;
    border-radius:8px;
    border:1px dashed rgba(255,255,255,0.06);  /* marked dashed border */
    color:var(--fc6);
    background: rgba(255,255,255,0.01);
    cursor:pointer;
  }
  .chain-mark svg { width:16px; height:16px; stroke:var(--fc6); fill:none; stroke-width:1.2; }

  /* 3) Arrow area (centered below) */
  .arrow-wrap {
    margin-top:10px;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  .arrow {
    width:20px;
    height:20px;
    border-radius:8px;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    background: rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.02);
  }
  .arrow svg { width:14px; height:14px; stroke:var(--fc6); fill:none; stroke-width:1.25; }

  /* helper - hidden state when nothing to show */
  .hidden { display:none !important; }

  /* small responsive tweak */
  @media (max-width:520px){
    .right-panel { width:100%; }
    .filters { gap:8px; }
    .banners { gap:10px; }
  }
  .arrow i{
    width:20px;
    height:20px;   /* adjust size */
  cursor: pointer;     /* makes it clickable */
  color: white; 
  margin-bottom: 9px;    
  margin-right: 370px;   /* or any color you want */

  }
</style>
</head>
<body>
<div class="container">
        <div class="left-pannel">
            <div class="heading" role="heading" aria-level="2" aria-label="Unit Conversion heading">
                <div class="whitebox" aria-hidden="true"></div>
                <p>Unit Conversion</p>
                <span class="info-icon" title="More info" aria-hidden="false">
                <!-- simple info / circle icon -->
                <img src="https://res.cloudinary.com/dvufcaqt1/image/upload/v1760420877/info_detkgl.svg" alt="Info Icon" width="11" height="11" />
                </span>
            </div>
            <div class="modes">
                <!-- Unit / DPI / Add Bleed -->
                <div class="row" style="margin-top:4px;">
                    <label>Unit
                        <select id="unitSelect" class="small">
                        <option value="MM">MM</option>
                        <option value="CM">CM</option>
                        <option value="M">Meter</option>
                        <option value="IN">Inch</option>
                        <option value="FT">Feet</option>
                        </select>
                    </label>

                    <label>DPI
                        <select id="dpiSelect" class="small">
                        <option value="72">72 DPI</option>
                        <option value="150">150 DPI</option>
                        <option value="300">300 DPI</option>
                        </select>
                    </label>

                    <label style="margin-left:48px; display:flex; align-items:center;">
                        <input id="addBleed" type="checkbox" /> <span style="margin-left:-2px;color:var(--muted);font-size:var(--fs-xs);">Add Bleed</span>
                    </label>
                </div>
            </div>
            <div class="input">
                        <div class="panel" role="region" aria-label="Unit panel (Length/Width and Bleed)">
                        <!-- LEFT column -->
                        <div class="left-col" aria-label="Length and width group">
                            <!-- Length field -->
                            <div class="field" role="group" aria-label="Length">
                            <div class="field-label">Length</div>

                            <div class="size-group">
                                <input id="len-left" class="size-input" type="number" inputmode="numeric" min="0" aria-label="Length left" />
                                <button class="swap-btn" id="swapLen" title="Swap length values" aria-label="Swap length">â‡„</button>
                                <input id="len-right" class="size-input" type="number" inputmode="numeric" min="0" aria-label="Length right" />
                                <div class="px-text">px</div>
                            </div>
                           </div>

                            <!-- Width field -->
                            <div class="field" role="group" aria-label="Width">
                            <div class="field-label">Width</div>

                            <div class="size-group">
                                <input id="wid-left" class="size-input" type="number" inputmode="numeric" min="0" aria-label="Width left" />
                                <button class="swap-btn" id="swapWid" title="Swap width values" aria-label="Swap width">â‡„</button>
                                <input id="wid-right" class="size-input" type="number" inputmode="numeric" min="0" aria-label="Width right" />
                                <div class="px-text">px</div>
                            </div>
                            </div>
                        </div>

                        <!-- RIGHT column -->
                        <div class="right-col" aria-label="Top bottom left right group">
                            <div class="tb-grid" role="group" aria-label="Top bottom left right">
                            <div class="tb-cell">
    
                                <input id="top" class="tb-input tb-sync" type="number" inputmode="numeric" min="0" aria-label="Top" />
                                <div class="tb-label">Top</div>
                            </div>

                            <div class="tb-cell">
                                
                                <input id="bottom" class="tb-input tb-sync" type="number" inputmode="numeric" min="0" aria-label="Bottom" />
                                <div class="tb-label">Bottom</div>
                            </div>

                            <div class="tb-cell">
                                
                                <input id="left" class="tb-input tb-sync" type="number" inputmode="numeric" min="0" aria-label="Left" />
                                <div class="tb-label">Left</div>
                            </div>

                            <div class="tb-cell">
                                
                                
                                <input id="right" class="tb-input tb-sync" type="number" inputmode="numeric" min="0" aria-label="Right" />
                                <div class="tb-label">Right</div>
                            </div>
                            </div>

                            <div class="link-wrap">
                            <button id="linkBtn" class="link-btn" aria-pressed="false" title="Toggle link (make values same)">
                                <img src="https://res.cloudinary.com/dvufcaqt1/image/upload/v1760420875/link_icon_whcrae.svg" 
                                    alt="Link Icon" 
                                    width="6"
                                    height="6">
                            </button>
                            </div>
                        </div>
                    </div>
            </div>

            <div class="actions">
                <button id="exportBtn" class="btn">Create a Frame</button>
                <button id="savePresetBtn" class="btn ghost">Save As Preset</button>
                <button id="orientationBtn" class="btn ghost">Orientation</button>
                <button id="horizontalImgBtn" class="icon-btn" aria-pressed="false" title="Horizontal Image">
                 <img src="https://res.cloudinary.com/dvufcaqt1/image/upload/v1760420875/horizontal_image_bomcid.svg" alt="Horizontal Image Icon" width="19" height="19">
                </button>
                <button id="landscapeBtn" class="icon-btn" aria-pressed="false" title="Landscape">
                 <img src="https://res.cloudinary.com/dvufcaqt1/image/upload/v1760420875/landscape_nqp4qs.svg" alt="Landscape Icon" width="19" height="19">
                </button>
            </div>
        </div>
        <!-- right pannel -->
            <div class="right-panel" role="complementary" aria-label="Right panel - presets">
                <!-- 1) Top row -->
                <div class="top-row">
                <div class="tabs" role="tablist" aria-label="Preset tabs">
                    <div class="tab-your active" id="tabYour">Your Presets</div>
                    <div class="tab-all" id="tabAll">All Presets</div>
                </div>
                <button class="edit-btn" id="editBtn" title="Edit presets" aria-label="Edit presets">
                 <img src="https://res.cloudinary.com/dvufcaqt1/image/upload/v1760420877/edit_icon_tzvijx.svg" alt="Edit Icon" width="10" height="10">
                </button>
                </div>

                <!-- 2) Filter area + banners -->
                <div class="filter-area">
                   <div style="display:flex; align-items:center; gap:12px;">
                    <div class="filters" role="tablist" aria-label="Filters">
                    <button class="filter-all active" id="btnAll" title="Show all">All</button>
                    <button class="filter-fav" id="btnFav" title="Show favorites">Favorites</button>
                    </div>

                    
                </div>

                <!-- banners row -->
                <div class="banners" id="bannersRow" aria-live="polite">
                    <!-- sample banner blocks - you can add more or generate dynamically -->
                    <div class="banner-block" data-id="b1">
                    <div class="banner" role="button" tabindex="0" aria-label="Banner - Banner">
                        <div class="heart" data-action="toggle-like" title="Like">
                        <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        </div>
                    </div>
                    <div class="banner-label">Banner</div>
                    </div>

                    <div class="banner-block" data-id="b2">
                    <div class="banner" role="button" tabindex="0" aria-label="Banner - V-Card">
                        <div class="heart" data-action="toggle-like" title="Like">
                        <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        </div>
                    </div>
                    <div class="banner-label">V-Card</div>
                    </div>

                    <div class="banner-block" data-id="b3">
                    <div class="banner" role="button" tabindex="0" aria-label="Banner - Standee">
                        <div class="heart" data-action="toggle-like" title="Like">
                        <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        </div>
                    </div>
                    <div class="banner-label">Standee</div>
                    </div>

                    <div class="banner-block" data-id="b4">
                    <div class="banner" role="button" tabindex="0" aria-label="Banner - Bi fold">
                        <div class="heart" data-action="toggle-like" title="Like">
                        <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        </div>
                    </div>
                    <div class="banner-label">Bi fold</div>
                    </div>

                    <div class="banner-block" data-id="b5">
                    <div class="banner" role="button" tabindex="0" aria-label="Banner - Brochure">
                        <div class="heart" data-action="toggle-like" title="Like">
                        <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        </div>
                    </div>
                    <div class="banner-label">Brochure</div>
                    </div>
                </div>
                </div>

            <!-- 3) Arrow below -->
                <div class="arrow-wrap">
                <div class="arrow" title="Expand / collapse">
                    <!-- <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M12 8l-4 4h8z" stroke-linecap="round" stroke-linejoin="round"/></svg> -->
                     <i class="fa-solid fa-chevron-up"></i>
                </div>
            </div>
        </div>
    </div>
<script>
/* Link toggle behavior for the four tb inputs */
(function(){
  const linkBtn = document.getElementById('linkBtn');
  const tbIds = ['top','bottom','left','right'];
  const tbInputs = tbIds.map(id => document.getElementById(id));
  let linked = false;
  const syncHandlers = new Map();

  function setLinked(state) {
    linked = !!state;
    if (linked) {
      linkBtn.classList.add('linked');
      linkBtn.setAttribute('aria-pressed','true');

      // choose source value: first non-empty, otherwise '0'
      let source = tbInputs.find(i => i.value !== '')?.value ?? tbInputs[0].value ?? '0';
      if (source === '') source = '0';
      tbInputs.forEach(i => i.value = source);

      // attach input listeners so editing any input updates the rest
      tbInputs.forEach(inp => {
        const handler = (e) => {
          const v = e.target.value;
          tbInputs.forEach(other => { if (other !== e.target) other.value = v; });
        };
        inp.addEventListener('input', handler);
        syncHandlers.set(inp, handler);
      });

    } else {
      linkBtn.classList.remove('linked');
      linkBtn.setAttribute('aria-pressed','false');

      // remove handlers
      syncHandlers.forEach((handler, input) => {
        input.removeEventListener('input', handler);
      });
      syncHandlers.clear();
    }
  }

  linkBtn.addEventListener('click', (e) => {
    e.preventDefault();
    setLinked(!linked);
  });

  // Swap handlers for length & width
  function swapValues(aId,bId){
    const a = document.getElementById(aId);
    const b = document.getElementById(bId);
    const tmp = a.value;
    a.value = b.value;
    b.value = tmp;
  }

  document.getElementById('swapLen').addEventListener('click', (e)=>{
    e.preventDefault();
    swapValues('len-left','len-right');
  });
  document.getElementById('swapWid').addEventListener('click', (e)=>{
    e.preventDefault();
    swapValues('wid-left','wid-right');
  });

  // initialize unlinked
  setLinked(false);
})();

/* JS: like toggle + filters (All / Favorites) + simple UI states */
(function(){
  const bannersRow = document.getElementById('bannersRow');
  const bannerBlocks = Array.from(bannersRow.querySelectorAll('.banner-block'));
  const btnAll = document.getElementById('btnAll');
  const btnFav = document.getElementById('btnFav');

  // Toggle like on heart click
  bannersRow.addEventListener('click', (e) => {
    const heart = e.target.closest('.heart');
    if (!heart) return;
    const block = heart.closest('.banner-block');
    const banner = block.querySelector('.banner');
    banner.classList.toggle('liked');
    // update vis for filter if favorites selected
    if (btnFav.classList.contains('active')) {
      // if now not liked, hide it
      if (!banner.classList.contains('liked')) {
        block.style.display = 'none';
      }
    }
  });

  // Filter: All
  btnAll.addEventListener('click', () => {
    btnAll.classList.add('active');
    btnFav.classList.remove('active');
    // show all
    bannerBlocks.forEach(b => b.style.display = '');
  });

  // Filter: Favorites
  btnFav.addEventListener('click', () => {
    btnFav.classList.add('active');
    btnAll.classList.remove('active');
    // show only liked
    bannerBlocks.forEach(b => {
      const isLiked = b.querySelector('.banner').classList.contains('liked');
      b.style.display = isLiked ? '' : 'none';
    });
  });

  // Keyboard accessible like (space/enter on banner toggles like)
  bannersRow.addEventListener('keydown', (e) => {
    const bannerEl = e.target.closest('.banner');
    if (!bannerEl) return;
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      bannerEl.classList.toggle('liked');
    }
  });

  // small: clicking a banner (not heart) can toggle selection visual
  bannersRow.addEventListener('click', (e) => {
    const bannerEl = e.target.closest('.banner');
    if (!bannerEl) return;
    // if click on heart we already handled. if click elsewhere, toggle a subtle border as selection
    if (e.target.closest('.heart')) return;
    bannerEl.classList.toggle('selected');
    if (bannerEl.classList.contains('selected')) {
      bannerEl.style.boxShadow = '0 8px 20px rgba(0,0,0,0.6)';
    } else {
      bannerEl.style.boxShadow = '';
    }
  });

  // initial state: All active
  btnAll.classList.add('active');
})();
</script>
</body>
</html>
